<!DOCTYPE html>
<html lang="en">
<head>
  <title>HI Flag Vote</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Oxygen:400,700' rel='stylesheet' type='text/css'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>

<!-- JS code initiated by page load -->
<script>
$(document).ready(function(){

  var rank = 0;
  var ranks = ["#rank-1", "#rank-2", "#rank-3", "#rank-4", "#rank-5"];
  var current_ballot = [];

  $(".btn-primary").on("click", function(){
    if ($(this).attr("class") === "btn btn-primary"){
      $(this).addClass("disabled");
      $("#submit").removeClass("disabled");
      if (rank <= 4) {
        $(ranks[rank]).append(rank+1 + " | " + $(this).text());
        rank += 1;
        current_ballot.push($(this).attr("id"));
  }}});

  $("#submit").click(function(){
    $("#submit").addClass("disabled");
    $(".btn-primary").removeClass("disabled");
    $(".btn-default").text(" ");
    $("#ballot-title").text(" Ballot ");
    rank = 0;
    $("textarea").append(current_ballot + ";");
    current_ballot = [];
  });

  $("#oops").click(function(){
    $("#submit").addClass("disabled");
    $(".btn-primary").removeClass("disabled");
    $(".btn-default").text(" ");
    $("#ballot-title").text(" Ballot ");
    rank = 0;
    current_ballot = [];
  });

  $("#calculate").click(function(){
    var data_pre = $("textarea").val().split(";");
    console.log(data_pre);
    var data = data_pre.map(function(x){
      return x.split(",");
    });
    data = data.slice(0, data.length - 1);
  });

});
</script>

<style>

.bg-1 {
  background-color: #555555; /* MintCream */ 
  color: #ffffff;
}

.container-fluid {
  padding-top: 50px;
  padding-bottom: 50px;
}

.navbar {
    padding-top: 10px;
    padding-bottom: 10px;
    border: 0;
    border-radius: 0;
    margin-bottom: 0;
    font-size: 12px;
    letter-spacing: 2px;
}

.navbar-nav li a:hover {
    color: #000066 !important;
}

body {
    font: 20px "Oxygen", sans-serif;
    line-height: 1.8;
    color: #f5f6f7;
}

p {font-size: 16px;}

.col-centered {
  float: none;
  margin: 0 auto;
}

</style>

<body>

<!-- Navigation Bar -->
  <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span> 
            </button>
            <a class="navbar-brand" href="#">Hello Internet Flag Voting App</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav navbar-right">
            <li><a href="#instructions">Instructions</a></li>
            </ul>
        </div>
    </div>
  </nav>

  <div class="container-fluid bg-1 text-center">
    <div class="row">

      <!-- Ballot Buttons -->
      <div class="btn-group-vertical btn-group-lg col-sm-2 col-centered">
        <button type="button" class="btn btn-primary" id="cc">Club & Claws</button>
        <button type="button" class="btn btn-primary" id="wc">White Cross</button>
        <button type="button" class="btn btn-primary" id="ff">Flaggy Flag</button>
        <button type="button" class="btn btn-primary" id="hi">H.I. Logo</button>
        <button type="button" class="btn btn-primary" id="ng">Nail & Gear</button>
        <br>
        <button type="button" class="btn btn-success disabled" id="submit">Submit</button>
        <button type="button" class="btn btn-danger" id="oops">Oops</button>
      </div>

      <!-- Active Ballot -->
      <div class="btn-group-vertical btn-group-lg col-sm-2 col-centered">
        <button type="button" class="btn btn-default" id="ballot-title"> Ballot </button>
        <button type="button" class="btn btn-default" id="rank-1"></button>
        <button type="button" class="btn btn-default" id="rank-2"></button>
        <button type="button" class="btn btn-default" id="rank-3"></button>
        <button type="button" class="btn btn-default" id="rank-4"></button>
        <button type="button" class="btn btn-default" id="rank-5"></button>
      </div>
    </div>

    <div class="row">
      <button type="button" class="btn btn-success btn-lg" style="margin:30px" id="calculate">Calculate</button>
    </div>
    
    <div class="row">
      <!-- Result Table -->
      <div class="col-sm-8 col-centered">
      <div class="table-responsive">          
        <table class="table table-bordered table-striped" style="background-color:white;color:black;">
          <thead>
            <tr>
              <th>Flag</th>
              <th>Total</th>
              <th>Round 1</th>
              <th>Round 2</th>
              <th>Round 3</th>
              <th>Round 4</th>
              <th>Round 5</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Club & Claws</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>White Cross</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>Flaggy Flag</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>H.I. Logo</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>Nail & Gear</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Raw Data Box -->
<div class="container-fluid bg-1 text-center">
  <div class="container">
    <form role="form">
      <div class="form-group">
        <label for="comment">Raw Data:</label>
        <textarea class="form-control" rows="10" id="raw-data"></textarea>
      </div>
    </form>
  </div>
</div>

<!-- Instructions -->
<div class="container-fluid bg-1 text-center" id="instructions">
  <h3>Instructions</h3>
  <p>to do</p>
</div>

  <!-- Footer -->
  <footer class="container-fluid bg-1 text-center">
      <p>Copyright Â© Gregory Samek</p> 
  </footer>

</body>
</html>